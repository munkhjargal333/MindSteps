// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package query

import (
	"context"
	"database/sql"

	"gorm.io/gorm"

	"gorm.io/gen"

	"gorm.io/plugin/dbresolver"
)

func Use(db *gorm.DB, opts ...gen.DOOption) *Query {
	return &Query{
		db:                    db,
		AuthOTP:               newAuthOTP(db, opts...),
		CoreValues:            newCoreValues(db, opts...),
		DataRetentionPolicies: newDataRetentionPolicies(db, opts...),
		DeletedDataLog:        newDeletedDataLog(db, opts...),
		EncryptionKeys:        newEncryptionKeys(db, opts...),
		ErrorLogs:             newErrorLogs(db, opts...),
		GoalMilestones:        newGoalMilestones(db, opts...),
		Goals:                 newGoals(db, opts...),
		Journals:              newJournals(db, opts...),
		LessonCategory:        newLessonCategory(db, opts...),
		LessonComments:        newLessonComments(db, opts...),
		LessonReactions:       newLessonReactions(db, opts...),
		LessonRecommendations: newLessonRecommendations(db, opts...),
		Lessons:               newLessons(db, opts...),
		MaslowLevels:          newMaslowLevels(db, opts...),
		MoodCategories:        newMoodCategories(db, opts...),
		MoodEntries:           newMoodEntries(db, opts...),
		MoodUnit:              newMoodUnit(db, opts...),
		PlutchikCombinations:  newPlutchikCombinations(db, opts...),
		PlutchikEmotions:      newPlutchikEmotions(db, opts...),
		RevokedTokens:         newRevokedTokens(db, opts...),
		RoleOwners:            newRoleOwners(db, opts...),
		Roles:                 newRoles(db, opts...),
		ScoringHistory:        newScoringHistory(db, opts...),
		SystemAuditLog:        newSystemAuditLog(db, opts...),
		SystemSettings:        newSystemSettings(db, opts...),
		UserDataAccessLog:     newUserDataAccessLog(db, opts...),
		UserDataRequests:      newUserDataRequests(db, opts...),
		UserEmotionWheel:      newUserEmotionWheel(db, opts...),
		UserGamification:      newUserGamification(db, opts...),
		UserLessonProgress:    newUserLessonProgress(db, opts...),
		UserLevels:            newUserLevels(db, opts...),
		UserSessions:          newUserSessions(db, opts...),
		Users:                 newUsers(db, opts...),
		ValueReflections:      newValueReflections(db, opts...),
	}
}

type Query struct {
	db *gorm.DB

	AuthOTP               authOTP
	CoreValues            coreValues
	DataRetentionPolicies dataRetentionPolicies
	DeletedDataLog        deletedDataLog
	EncryptionKeys        encryptionKeys
	ErrorLogs             errorLogs
	GoalMilestones        goalMilestones
	Goals                 goals
	Journals              journals
	LessonCategory        lessonCategory
	LessonComments        lessonComments
	LessonReactions       lessonReactions
	LessonRecommendations lessonRecommendations
	Lessons               lessons
	MaslowLevels          maslowLevels
	MoodCategories        moodCategories
	MoodEntries           moodEntries
	MoodUnit              moodUnit
	PlutchikCombinations  plutchikCombinations
	PlutchikEmotions      plutchikEmotions
	RevokedTokens         revokedTokens
	RoleOwners            roleOwners
	Roles                 roles
	ScoringHistory        scoringHistory
	SystemAuditLog        systemAuditLog
	SystemSettings        systemSettings
	UserDataAccessLog     userDataAccessLog
	UserDataRequests      userDataRequests
	UserEmotionWheel      userEmotionWheel
	UserGamification      userGamification
	UserLessonProgress    userLessonProgress
	UserLevels            userLevels
	UserSessions          userSessions
	Users                 users
	ValueReflections      valueReflections
}

func (q *Query) Available() bool { return q.db != nil }

func (q *Query) clone(db *gorm.DB) *Query {
	return &Query{
		db:                    db,
		AuthOTP:               q.AuthOTP.clone(db),
		CoreValues:            q.CoreValues.clone(db),
		DataRetentionPolicies: q.DataRetentionPolicies.clone(db),
		DeletedDataLog:        q.DeletedDataLog.clone(db),
		EncryptionKeys:        q.EncryptionKeys.clone(db),
		ErrorLogs:             q.ErrorLogs.clone(db),
		GoalMilestones:        q.GoalMilestones.clone(db),
		Goals:                 q.Goals.clone(db),
		Journals:              q.Journals.clone(db),
		LessonCategory:        q.LessonCategory.clone(db),
		LessonComments:        q.LessonComments.clone(db),
		LessonReactions:       q.LessonReactions.clone(db),
		LessonRecommendations: q.LessonRecommendations.clone(db),
		Lessons:               q.Lessons.clone(db),
		MaslowLevels:          q.MaslowLevels.clone(db),
		MoodCategories:        q.MoodCategories.clone(db),
		MoodEntries:           q.MoodEntries.clone(db),
		MoodUnit:              q.MoodUnit.clone(db),
		PlutchikCombinations:  q.PlutchikCombinations.clone(db),
		PlutchikEmotions:      q.PlutchikEmotions.clone(db),
		RevokedTokens:         q.RevokedTokens.clone(db),
		RoleOwners:            q.RoleOwners.clone(db),
		Roles:                 q.Roles.clone(db),
		ScoringHistory:        q.ScoringHistory.clone(db),
		SystemAuditLog:        q.SystemAuditLog.clone(db),
		SystemSettings:        q.SystemSettings.clone(db),
		UserDataAccessLog:     q.UserDataAccessLog.clone(db),
		UserDataRequests:      q.UserDataRequests.clone(db),
		UserEmotionWheel:      q.UserEmotionWheel.clone(db),
		UserGamification:      q.UserGamification.clone(db),
		UserLessonProgress:    q.UserLessonProgress.clone(db),
		UserLevels:            q.UserLevels.clone(db),
		UserSessions:          q.UserSessions.clone(db),
		Users:                 q.Users.clone(db),
		ValueReflections:      q.ValueReflections.clone(db),
	}
}

func (q *Query) ReadDB() *Query {
	return q.ReplaceDB(q.db.Clauses(dbresolver.Read))
}

func (q *Query) WriteDB() *Query {
	return q.ReplaceDB(q.db.Clauses(dbresolver.Write))
}

func (q *Query) ReplaceDB(db *gorm.DB) *Query {
	return &Query{
		db:                    db,
		AuthOTP:               q.AuthOTP.replaceDB(db),
		CoreValues:            q.CoreValues.replaceDB(db),
		DataRetentionPolicies: q.DataRetentionPolicies.replaceDB(db),
		DeletedDataLog:        q.DeletedDataLog.replaceDB(db),
		EncryptionKeys:        q.EncryptionKeys.replaceDB(db),
		ErrorLogs:             q.ErrorLogs.replaceDB(db),
		GoalMilestones:        q.GoalMilestones.replaceDB(db),
		Goals:                 q.Goals.replaceDB(db),
		Journals:              q.Journals.replaceDB(db),
		LessonCategory:        q.LessonCategory.replaceDB(db),
		LessonComments:        q.LessonComments.replaceDB(db),
		LessonReactions:       q.LessonReactions.replaceDB(db),
		LessonRecommendations: q.LessonRecommendations.replaceDB(db),
		Lessons:               q.Lessons.replaceDB(db),
		MaslowLevels:          q.MaslowLevels.replaceDB(db),
		MoodCategories:        q.MoodCategories.replaceDB(db),
		MoodEntries:           q.MoodEntries.replaceDB(db),
		MoodUnit:              q.MoodUnit.replaceDB(db),
		PlutchikCombinations:  q.PlutchikCombinations.replaceDB(db),
		PlutchikEmotions:      q.PlutchikEmotions.replaceDB(db),
		RevokedTokens:         q.RevokedTokens.replaceDB(db),
		RoleOwners:            q.RoleOwners.replaceDB(db),
		Roles:                 q.Roles.replaceDB(db),
		ScoringHistory:        q.ScoringHistory.replaceDB(db),
		SystemAuditLog:        q.SystemAuditLog.replaceDB(db),
		SystemSettings:        q.SystemSettings.replaceDB(db),
		UserDataAccessLog:     q.UserDataAccessLog.replaceDB(db),
		UserDataRequests:      q.UserDataRequests.replaceDB(db),
		UserEmotionWheel:      q.UserEmotionWheel.replaceDB(db),
		UserGamification:      q.UserGamification.replaceDB(db),
		UserLessonProgress:    q.UserLessonProgress.replaceDB(db),
		UserLevels:            q.UserLevels.replaceDB(db),
		UserSessions:          q.UserSessions.replaceDB(db),
		Users:                 q.Users.replaceDB(db),
		ValueReflections:      q.ValueReflections.replaceDB(db),
	}
}

type queryCtx struct {
	AuthOTP               *authOTPDo
	CoreValues            *coreValuesDo
	DataRetentionPolicies *dataRetentionPoliciesDo
	DeletedDataLog        *deletedDataLogDo
	EncryptionKeys        *encryptionKeysDo
	ErrorLogs             *errorLogsDo
	GoalMilestones        *goalMilestonesDo
	Goals                 *goalsDo
	Journals              *journalsDo
	LessonCategory        *lessonCategoryDo
	LessonComments        *lessonCommentsDo
	LessonReactions       *lessonReactionsDo
	LessonRecommendations *lessonRecommendationsDo
	Lessons               *lessonsDo
	MaslowLevels          *maslowLevelsDo
	MoodCategories        *moodCategoriesDo
	MoodEntries           *moodEntriesDo
	MoodUnit              *moodUnitDo
	PlutchikCombinations  *plutchikCombinationsDo
	PlutchikEmotions      *plutchikEmotionsDo
	RevokedTokens         *revokedTokensDo
	RoleOwners            *roleOwnersDo
	Roles                 *rolesDo
	ScoringHistory        *scoringHistoryDo
	SystemAuditLog        *systemAuditLogDo
	SystemSettings        *systemSettingsDo
	UserDataAccessLog     *userDataAccessLogDo
	UserDataRequests      *userDataRequestsDo
	UserEmotionWheel      *userEmotionWheelDo
	UserGamification      *userGamificationDo
	UserLessonProgress    *userLessonProgressDo
	UserLevels            *userLevelsDo
	UserSessions          *userSessionsDo
	Users                 *usersDo
	ValueReflections      *valueReflectionsDo
}

func (q *Query) WithContext(ctx context.Context) *queryCtx {
	return &queryCtx{
		AuthOTP:               q.AuthOTP.WithContext(ctx),
		CoreValues:            q.CoreValues.WithContext(ctx),
		DataRetentionPolicies: q.DataRetentionPolicies.WithContext(ctx),
		DeletedDataLog:        q.DeletedDataLog.WithContext(ctx),
		EncryptionKeys:        q.EncryptionKeys.WithContext(ctx),
		ErrorLogs:             q.ErrorLogs.WithContext(ctx),
		GoalMilestones:        q.GoalMilestones.WithContext(ctx),
		Goals:                 q.Goals.WithContext(ctx),
		Journals:              q.Journals.WithContext(ctx),
		LessonCategory:        q.LessonCategory.WithContext(ctx),
		LessonComments:        q.LessonComments.WithContext(ctx),
		LessonReactions:       q.LessonReactions.WithContext(ctx),
		LessonRecommendations: q.LessonRecommendations.WithContext(ctx),
		Lessons:               q.Lessons.WithContext(ctx),
		MaslowLevels:          q.MaslowLevels.WithContext(ctx),
		MoodCategories:        q.MoodCategories.WithContext(ctx),
		MoodEntries:           q.MoodEntries.WithContext(ctx),
		MoodUnit:              q.MoodUnit.WithContext(ctx),
		PlutchikCombinations:  q.PlutchikCombinations.WithContext(ctx),
		PlutchikEmotions:      q.PlutchikEmotions.WithContext(ctx),
		RevokedTokens:         q.RevokedTokens.WithContext(ctx),
		RoleOwners:            q.RoleOwners.WithContext(ctx),
		Roles:                 q.Roles.WithContext(ctx),
		ScoringHistory:        q.ScoringHistory.WithContext(ctx),
		SystemAuditLog:        q.SystemAuditLog.WithContext(ctx),
		SystemSettings:        q.SystemSettings.WithContext(ctx),
		UserDataAccessLog:     q.UserDataAccessLog.WithContext(ctx),
		UserDataRequests:      q.UserDataRequests.WithContext(ctx),
		UserEmotionWheel:      q.UserEmotionWheel.WithContext(ctx),
		UserGamification:      q.UserGamification.WithContext(ctx),
		UserLessonProgress:    q.UserLessonProgress.WithContext(ctx),
		UserLevels:            q.UserLevels.WithContext(ctx),
		UserSessions:          q.UserSessions.WithContext(ctx),
		Users:                 q.Users.WithContext(ctx),
		ValueReflections:      q.ValueReflections.WithContext(ctx),
	}
}

func (q *Query) Transaction(fc func(tx *Query) error, opts ...*sql.TxOptions) error {
	return q.db.Transaction(func(tx *gorm.DB) error { return fc(q.clone(tx)) }, opts...)
}

func (q *Query) Begin(opts ...*sql.TxOptions) *QueryTx {
	tx := q.db.Begin(opts...)
	return &QueryTx{Query: q.clone(tx), Error: tx.Error}
}

type QueryTx struct {
	*Query
	Error error
}

func (q *QueryTx) Commit() error {
	return q.db.Commit().Error
}

func (q *QueryTx) Rollback() error {
	return q.db.Rollback().Error
}

func (q *QueryTx) SavePoint(name string) error {
	return q.db.SavePoint(name).Error
}

func (q *QueryTx) RollbackTo(name string) error {
	return q.db.RollbackTo(name).Error
}
